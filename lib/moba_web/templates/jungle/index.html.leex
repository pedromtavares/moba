<div class="jungle" id="jungle">
    <%= if @pending_battle do %>
        <%= MobaWeb.GameView.render "_pending_battle.html", battle: @pending_battle %>
    <% else %>
        <%= if @current_hero.user.is_guest && @current_hero.level >= 20 do %>
            <%= render "_guest_signup.html", assigns %>
        <% else %>
            <div class="row mt-2 jungle-header">
                <div class="col">
                    <%= render "_header.html", assigns %>
                </div>
            </div>

            <%= if dead?(@current_hero) do %>
                <div class="row mt-2">
                    <div class="col">
                        <%= render "_dead.html", assigns %>
                    </div>
                </div>
            <% else %>
                <%= if display_farm_tabs?(assigns) do %>
                    <div class="row mt-2">
                        <div class="col">
                            <%= render "_farm_tabs.html", assigns %>
                        </div>
                    </div>
                <% end %>

                <%= render "_#{@farm_tab}.html", assigns %>
            <% end %>
        <% end %>
    <% end %>
</div>

<%= live_render(@socket, MobaWeb.CurrentHeroLiveView, session: %{"hero_id" => @current_hero.id, "origin" => "jungle", "tutorial_step" => @tutorial_step}, id: "current-hero-live-view") %>

<%= Phoenix.LiveView.Helpers.live_component(@socket, MobaWeb.Tutorial, step: @tutorial_step) %>
